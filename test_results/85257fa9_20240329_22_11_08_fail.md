# Test Report

Time: 2024-03-29 22:11:08.263224

### Base Program

```py
class StockSpanner:

    def __init__(self):
        self.prices = []
        self.index_stack = []

    def next(self, price: int) -> int:
        while self.index_stack and self.prices[self.index_stack[-1]] <= price:
            self.index_stack.pop()
        span = len(self.prices) + 1 if not self.index_stack else len(self.prices) - self.index_stack[-1]
        self.index_stack.append(len(self.prices))
        self.prices.append(price)
        return span
```

### Input

```json
None
```

## Test Case 1

### Modified Program

```py
class StockSpanner:

    def __init__(self):
        self.prices = []
        self.index_stack = []

    def next(self, price: int) -> int:
        while self.index_stack and self.prices[self.index_stack[-1]] <= price:
            self.index_stack.pop()
        span = len(self.prices) + 1 if not self.index_stack else len(self.prices) - self.index_stack[-1]
        self.index_stack.append(len(self.prices))
        self.prices.append(price)
        return span
```

<details>
<summary>parser endpoint: failed ❌</summary>

Message: 
```
Error in making API call to https://its.comp.nus.edu.sg/cs3213/parser. (Retry 0 times)
Status code: 500.
Body: 
{
    "language": "py",
    "source_code": "class StockSpanner:\n\n    def __init__(self):\n        self.prices = []\n        self.index_stack = []\n\n    def next(self, price: int) -> int:\n        while self.index_stack and self.prices[self.index_stack[-1]] <= price:\n            self.index_stack.pop()\n        span = len(self.prices) + 1 if not self.index_stack else len(self.prices) - self.index_stack[-1]\n        self.index_stack.append(len(self.prices))\n        self.prices.append(price)\n        return span"
}
Response: {"detail":"Output: \nError: ANTLR Tool version 4.9.1 used for code generation does not match the current runtime version 4.7.1Exception in thread \"main\" java.util.NoSuchElementException: Unable to parse left operand: [Member: L8] [Name: L8] self.index_stack\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.lambda$visitBinaryOp$7(PyAstVisitor.java:870)\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitBinaryOp(PyAstVisitor.java:869)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:343)\n\tat sg.edu.nus.se.its.parser.ast.nodes.BinaryLogicalOpNode.accept(BinaryLogicalOpNode.java:23)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:435)\n\tat sg.edu.nus.se.its.parser.ast.nodes.WhileNode.accept(WhileNode.java:44)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.handleCodeBlockChild(PyAstVisitor.java:934)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:144)\n\tat sg.edu.nus.se.its.parser.ast.nodes.FunctionNode.accept(FunctionNode.java:52)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:109)\n\tat sg.edu.nus.se.its.parser.ast.nodes.ProgramNode.accept(ProgramNode.java:38)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitAst(PyAstVisitor.java:95)\n\tat sg.edu.nus.se.its.parser.cfg.PyProgramModelBuilder.buildProgram(PyProgramModelBuilder.java:27)\n\tat sg.edu.nus.se.its.parser.cfg.CfgBuilder.build(CfgBuilder.java:55)\n\tat sg.edu.nus.se.its.parser.PyParser.parse(PyParser.java:28)\n\tat sg.edu.nus.se.its.parser.pyParse.main(pyParse.java:44)\n"}
```

Actual Output: None

</details>

## Test Case 2

### Modified Program

```py
class StockSpanner:

    def __init__(var_0):
        var_0.prices = []
        var_0.index_stack = []

    def next(var_1, var_2: int) -> int:
        while var_1.index_stack and var_1.prices[var_1.index_stack[-1]] <= var_2:
            var_1.index_stack.pop()
        span = len(var_1.prices) + 1 if not var_1.index_stack else len(var_1.prices) - var_1.index_stack[-1]
        var_1.index_stack.append(len(var_1.prices))
        var_1.prices.append(var_2)
        return span
```

<details>
<summary>parser endpoint: failed ❌</summary>

Message: 
```
Error in making API call to https://its.comp.nus.edu.sg/cs3213/parser. (Retry 0 times)
Status code: 500.
Body: 
{
    "language": "py",
    "source_code": "class StockSpanner:\n\n    def __init__(var_0):\n        var_0.prices = []\n        var_0.index_stack = []\n\n    def next(var_1, var_2: int) -> int:\n        while var_1.index_stack and var_1.prices[var_1.index_stack[-1]] <= var_2:\n            var_1.index_stack.pop()\n        span = len(var_1.prices) + 1 if not var_1.index_stack else len(var_1.prices) - var_1.index_stack[-1]\n        var_1.index_stack.append(len(var_1.prices))\n        var_1.prices.append(var_2)\n        return span"
}
Response: {"detail":"Output: \nError: ANTLR Tool version 4.9.1 used for code generation does not match the current runtime version 4.7.1Exception in thread \"main\" java.util.NoSuchElementException: Unable to parse left operand: [Member: L8] [Name: L8] var_1.index_stack\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.lambda$visitBinaryOp$7(PyAstVisitor.java:870)\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitBinaryOp(PyAstVisitor.java:869)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:343)\n\tat sg.edu.nus.se.its.parser.ast.nodes.BinaryLogicalOpNode.accept(BinaryLogicalOpNode.java:23)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:435)\n\tat sg.edu.nus.se.its.parser.ast.nodes.WhileNode.accept(WhileNode.java:44)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.handleCodeBlockChild(PyAstVisitor.java:934)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:144)\n\tat sg.edu.nus.se.its.parser.ast.nodes.FunctionNode.accept(FunctionNode.java:52)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:109)\n\tat sg.edu.nus.se.its.parser.ast.nodes.ProgramNode.accept(ProgramNode.java:38)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitAst(PyAstVisitor.java:95)\n\tat sg.edu.nus.se.its.parser.cfg.PyProgramModelBuilder.buildProgram(PyProgramModelBuilder.java:27)\n\tat sg.edu.nus.se.its.parser.cfg.CfgBuilder.build(CfgBuilder.java:55)\n\tat sg.edu.nus.se.its.parser.PyParser.parse(PyParser.java:28)\n\tat sg.edu.nus.se.its.parser.pyParse.main(pyParse.java:44)\n"}
```

Actual Output: None

</details>

## Test Case 3

### Modified Program

```py
class StockSpanner:

    def __init__(self):
        self.prices = []
        self.index_stack = []

    def next(self, price: int) -> int:
        while self.index_stack and self.prices[self.index_stack[-1]] <= price:
            self.index_stack.pop()
        span = 1 + len(self.prices) if not self.index_stack else len(self.prices) + -self.index_stack[-1]
        self.index_stack.append(len(self.prices))
        self.prices.append(price)
        return span
```

<details>
<summary>parser endpoint: failed ❌</summary>

Message: 
```
Error in making API call to https://its.comp.nus.edu.sg/cs3213/parser. (Retry 0 times)
Status code: 500.
Body: 
{
    "language": "py",
    "source_code": "class StockSpanner:\n\n    def __init__(self):\n        self.prices = []\n        self.index_stack = []\n\n    def next(self, price: int) -> int:\n        while self.index_stack and self.prices[self.index_stack[-1]] <= price:\n            self.index_stack.pop()\n        span = 1 + len(self.prices) if not self.index_stack else len(self.prices) + -self.index_stack[-1]\n        self.index_stack.append(len(self.prices))\n        self.prices.append(price)\n        return span"
}
Response: {"detail":"Output: \nError: ANTLR Tool version 4.9.1 used for code generation does not match the current runtime version 4.7.1Exception in thread \"main\" java.util.NoSuchElementException: Unable to parse left operand: [Member: L8] [Name: L8] self.index_stack\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.lambda$visitBinaryOp$7(PyAstVisitor.java:870)\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitBinaryOp(PyAstVisitor.java:869)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:343)\n\tat sg.edu.nus.se.its.parser.ast.nodes.BinaryLogicalOpNode.accept(BinaryLogicalOpNode.java:23)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:435)\n\tat sg.edu.nus.se.its.parser.ast.nodes.WhileNode.accept(WhileNode.java:44)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.handleCodeBlockChild(PyAstVisitor.java:934)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:144)\n\tat sg.edu.nus.se.its.parser.ast.nodes.FunctionNode.accept(FunctionNode.java:52)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:109)\n\tat sg.edu.nus.se.its.parser.ast.nodes.ProgramNode.accept(ProgramNode.java:38)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitAst(PyAstVisitor.java:95)\n\tat sg.edu.nus.se.its.parser.cfg.PyProgramModelBuilder.buildProgram(PyProgramModelBuilder.java:27)\n\tat sg.edu.nus.se.its.parser.cfg.CfgBuilder.build(CfgBuilder.java:55)\n\tat sg.edu.nus.se.its.parser.PyParser.parse(PyParser.java:28)\n\tat sg.edu.nus.se.its.parser.pyParse.main(pyParse.java:44)\n"}
```

Actual Output: None

</details>

## Test Case 4

### Modified Program

```py
class StockSpanner:

    def __init__(var_3):
        var_3.prices = []
        var_3.index_stack = []

    def next(var_4, var_5: int) -> int:
        while var_4.index_stack and var_4.prices[var_4.index_stack[-1]] <= var_5:
            var_4.index_stack.pop()
        span = 1 + len(var_4.prices) if not var_4.index_stack else len(var_4.prices) + -var_4.index_stack[-1]
        var_4.index_stack.append(len(var_4.prices))
        var_4.prices.append(var_5)
        return span
```

<details>
<summary>parser endpoint: failed ❌</summary>

Message: 
```
Error in making API call to https://its.comp.nus.edu.sg/cs3213/parser. (Retry 0 times)
Status code: 500.
Body: 
{
    "language": "py",
    "source_code": "class StockSpanner:\n\n    def __init__(var_3):\n        var_3.prices = []\n        var_3.index_stack = []\n\n    def next(var_4, var_5: int) -> int:\n        while var_4.index_stack and var_4.prices[var_4.index_stack[-1]] <= var_5:\n            var_4.index_stack.pop()\n        span = 1 + len(var_4.prices) if not var_4.index_stack else len(var_4.prices) + -var_4.index_stack[-1]\n        var_4.index_stack.append(len(var_4.prices))\n        var_4.prices.append(var_5)\n        return span"
}
Response: {"detail":"Output: \nError: ANTLR Tool version 4.9.1 used for code generation does not match the current runtime version 4.7.1Exception in thread \"main\" java.util.NoSuchElementException: Unable to parse left operand: [Member: L8] [Name: L8] var_4.index_stack\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.lambda$visitBinaryOp$7(PyAstVisitor.java:870)\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitBinaryOp(PyAstVisitor.java:869)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:343)\n\tat sg.edu.nus.se.its.parser.ast.nodes.BinaryLogicalOpNode.accept(BinaryLogicalOpNode.java:23)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:435)\n\tat sg.edu.nus.se.its.parser.ast.nodes.WhileNode.accept(WhileNode.java:44)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.handleCodeBlockChild(PyAstVisitor.java:934)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:144)\n\tat sg.edu.nus.se.its.parser.ast.nodes.FunctionNode.accept(FunctionNode.java:52)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visit(PyAstVisitor.java:109)\n\tat sg.edu.nus.se.its.parser.ast.nodes.ProgramNode.accept(ProgramNode.java:38)\n\tat sg.edu.nus.se.its.parser.ast.PyAstVisitor.visitAst(PyAstVisitor.java:95)\n\tat sg.edu.nus.se.its.parser.cfg.PyProgramModelBuilder.buildProgram(PyProgramModelBuilder.java:27)\n\tat sg.edu.nus.se.its.parser.cfg.CfgBuilder.build(CfgBuilder.java:55)\n\tat sg.edu.nus.se.its.parser.PyParser.parse(PyParser.java:28)\n\tat sg.edu.nus.se.its.parser.pyParse.main(pyParse.java:44)\n"}
```

Actual Output: None

</details>

